---
layout: post
title: 'Beginners Guide To Pentesting Azure'
date: '2021-03-22'
description: 'This article serves as an introduction to Azure penetration testing.'
coverimage: Beginners_Guide_To_Pentesting_Azure.jpg
tags: azure connect cryptography
published: true
posttype: article
categories: article
---
# Beginners Guide To Pentesting Azure

Let us start by installing the Azure Active Directory PowerShell Modules.

```
Install-Module AzureAD
```

<img src="/static/fc3f3cf0-9981-42f0-8a46-62d1a50b6286.png" class="img-fluid" alt="Beginners Guide To Pentesting Azure">

With the module installed we can now run the following from the command line to list all the available commands. 

```
get-command -Module AzureAD
```

If we look down the list we can see a command for connecting to Azure 

<img src="/static/c3a9c547-7ef9-4f8d-8e5c-fd81d074a561.png" class="img-fluid" alt="Connecting to Azure">

```
Connect-AzureAD
```

A pop-up should appear asking you to authenticate 

<img src="/static/05931e0d-0154-4591-99fd-5a11d6d3f6e7.png" class="img-fluid" alt="">


If you get the following error after trying to connect then you are possibly using PowerShell Core. 

`Connect-AzureAD: One or more errors occurred. (Could not load type 'System.Security.Cryptography.SHA256Cng' from assembly 'System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.): Could not load type 'System.Security.Cryptography.SHA256Cng' from assembly 'System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.
Connect-AzureAD: One or more errors occurred. (Could not load type 'System.Security.Cryptography.SHA256Cng' from assembly 'System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.)
Connect-AzureAD: Could not load type 'System.Security.Cryptography.SHA256Cng' from assembly 'System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.
Connect-AzureAD: One or more errors occurred. (Could not load type 'System.Security.Cryptography.SHA256Cng' from assembly 'System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.): Could not load type 'System.Security.Cryptography.SHA256Cng' from assembly 'System.Core, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.`


If you are able to successfully connect you will see a returned table showing your:

* Account
* Environment, 
* Tenant ID
* Tenant Domain
* Account Type

What if you want to run cmdlets against a different Tennant. 

```
Connect-AzureAD -Tenant <Tenant ID>
```

Where can I find the Tenant ID I hear you say?

### Getting the Tenant ID Via The Portal

<img src="/static/75cd2d95-b2cc-442f-a519-60f59b371c5d.png" class="img-fluid" alt="">

<img src="/static/3ec7c6d8-e478-47a1-9acd-9bf7b3ab6548.png" class="img-fluid" alt="">