<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Exploring VNC Servers And Clients" /><meta property="og:locale" content="en" /><meta name="description" content="This article looks at several different VNC Server technologies, and we perform a number of actions on them including installing and configuring them. We then look at interacting with them via connection with a VNC Client." /><meta property="og:description" content="This article looks at several different VNC Server technologies, and we perform a number of actions on them including installing and configuring them. We then look at interacting with them via connection with a VNC Client." /><link rel="canonical" href="http://theevilsaint.github.io/posts/exploring-vnc-servers-and-clients/" /><meta property="og:url" content="http://theevilsaint.github.io/posts/exploring-vnc-servers-and-clients/" /><meta property="og:site_name" content="EvilSaint" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-29T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Exploring VNC Servers And Clients" /><meta name="twitter:site" content="@_evilsaint_" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-05-29T00:00:00+01:00","datePublished":"2022-05-29T00:00:00+01:00","description":"This article looks at several different VNC Server technologies, and we perform a number of actions on them including installing and configuring them. We then look at interacting with them via connection with a VNC Client.","headline":"Exploring VNC Servers And Clients","mainEntityOfPage":{"@type":"WebPage","@id":"http://theevilsaint.github.io/posts/exploring-vnc-servers-and-clients/"},"url":"http://theevilsaint.github.io/posts/exploring-vnc-servers-and-clients/"}</script><title>Exploring VNC Servers And Clients | EvilSaint</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="EvilSaint"><meta name="application-name" content="EvilSaint"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://evilsaint.com/static/images/evilsaint_shield_logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">EvilSaint</a></div><div class="site-subtitle font-italic">I void warranties</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://twitter.com/_evilsaint_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://evilsaint.com/subscribe" aria-label="youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="https://github.com/TheEvilSaint" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.instagram.com/therealevilsaint/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href="https://www.facebook.com/TheEvilSaint/" aria-label="facebook" target="_blank" rel="noopener"> <i class="fab fa-facebook"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Exploring VNC Servers And Clients</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Exploring VNC Servers And Clients</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1653778800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> May 29, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.twitter.com/_evilsaint_/">evilsaint</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1074 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><h1 id="vnc-servers--clients">VNC Servers &amp; Clients</h1><p>VNC works on a client and server model. A server component is installed on the remote computer (the one you wish to control), and a VNC viewer (the client) is installed on the computer from where you want to take control. Over the VNC protocol, the remote computer with the agent installed will transmit a copy of the remote computer’s screen to the viewer. The most common VNC Server I found myself using was TigerVNC which is forked off of TightVNC. It allows users to create an independent session. However, it can not do shared screens or allow requesting assistance so its mileage on pentests is limited to just the protocol. If however, you have a choice between the two then x11vnc can turn out a little better on pentests.</p><h2 id="tiger-vnc"><span class="mr-2">Tiger VNC</span><a href="#tiger-vnc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Website: http://tigervnc.org</p><p>Tight VNC and Tiger VNC originated from the same project. Tiger VNC branched off from the never released VNC 4 branch of TightVNC. It has a GPL license and is free for personal and commercial use. It can operate as a server and client on MS Windows, Linux and FreeBSD. On Mac, it can just act as a client. It supports SSL/TLS Encryption.</p><p>Unfortunately, TigerVNC doesn’t support File Transfer.</p><h3 id="installing"><span class="mr-2">Installing</span><a href="#installing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you install the <code class="language-shell highlighter-rouge">vnc4server</code> package it will also install <code class="language-shell highlighter-rouge">tigervnc-standalone-server</code>, which has replaced <code class="language-shell highlighter-rouge">tigervnc-server</code></p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>vnc4server
</pre></table></code></div></div><p>Made up of the following commands</p><ul><li><a href="http://tigervnc.org/doc/vncconfig.html">vncconfig</a><li><a href="http://tigervnc.org/doc/vncpasswd.html">vncpasswd</a><li><a href="http://tigervnc.org/doc/vncserver.html">vncserver</a><li><a href="http://tigervnc.org/doc/vncviewer.html">vncviewer</a><li><a href="http://tigervnc.org/doc/x0vncserver.html">x0vncserver</a><li><a href="http://tigervnc.org/doc/Xvnc.html">Xvnc</a></ul><h3 id="running-a-vnc-server"><span class="mr-2">Running a VNC Server</span><a href="#running-a-vnc-server" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The following line runs <code class="language-shell highlighter-rouge">vncserver</code> . The <code class="language-shell highlighter-rouge"><span class="nt">-name</span></code> parameter allows us to specify a display name for the session window. We can use the <code class="language-shell highlighter-rouge"><span class="nt">-geometry</span></code> to specify dimensions (WxH) for the connecting session. We can specify the colour depth (16/24/32) using the <code class="language-shell highlighter-rouge"><span class="nt">-depth</span></code> parmeter. The <code class="language-shell highlighter-rouge"><span class="nt">-localhost</span></code> parameter can be yes or no as whether or not to listen locally. Adding <code class="language-shell highlighter-rouge"><span class="nt">-cleanstale</span></code> tells TigerVNC Server to clean up any stale files before trying to work out what x display number is available. Lastly <code class="language-shell highlighter-rouge"><span class="nt">-autokill</span></code> kills the TigerVNC</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncserver <span class="nt">-name</span> <span class="s2">"My Window Title"</span> <span class="nt">-geometry</span> <span class="s2">"1600x1000"</span> <span class="nt">-depth</span> 24 <span class="nt">-localhost</span> no  <span class="nt">-cleanstale</span> <span class="nt">-autokill</span>
</pre></table></code></div></div><p>If you have been working on any previous connections and you don’t want to worry about closing them down before starting a new session then you can append on the following command to kill all previously existing server sessions.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">-kill</span> :<span class="k">*</span>
</pre></table></code></div></div><p>Depending on your target audience, you can also specify</p><p>Never treat incoming connections as shared. If a second person connects it disconnects. Good option as you at least know if someone is connected.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">--NeverShared</span>
</pre></table></code></div></div><p>Always treat the session as shared. If you share the connection and use the ‘view only’ password, you can perform a presentation to many.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">-AlwaysShared</span>
</pre></table></code></div></div><p>Specify the allowed users</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">-AllowedUsers</span> <span class="nb">users</span>
</pre></table></code></div></div><h3 id="manage-vnc-sessions"><span class="mr-2">Manage VNC Sessions</span><a href="#manage-vnc-sessions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To list any VNC Sessions that have been setup.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncserver <span class="nt">-list</span>
</pre></table></code></div></div><p>Kill a display (or all displays)</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>vncserver <span class="nt">-kill</span> :1
vncserver <span class="nt">-kill</span> :<span class="k">*</span>
</pre></table></code></div></div><h3 id="authentication"><span class="mr-2">Authentication</span><a href="#authentication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>For your session, you will need to authenticate</p><p>The VNC Password is stored in <code class="language-shell highlighter-rouge">/.vnc.passwd</code> of the person who started the service. Type the following to be prompted for a password.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncpasswd
</pre></table></code></div></div><p>A nice way to connect is over SSH</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncviewer <span class="nt">-via</span> root@46.101.90.247 :1
</pre></table></code></div></div><h3 id="configuration"><span class="mr-2">Configuration</span><a href="#configuration" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The <code class="language-shell highlighter-rouge">~/.vnc/Xvnc-session</code> file used to be <code class="language-shell highlighter-rouge">~/.vnc/xstartup</code> and because of such, TigerVNC will check both. The file <code class="language-shell highlighter-rouge">/etc/vnc.conf</code> is the global configuration file. Passwords are stored in <code class="language-shell highlighter-rouge">~/.vnc/passwd</code></p><h2 id="x11vnc"><span class="mr-2">x11vnc</span><a href="#x11vnc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>http://www.karlrunge.com/x11vnc/</p><p>Has TightVNC and UltraVNC file transfer built-in along with built-in SSL encryption and authentication.</p><ul><li>Runs of the command line<li>Supports lots of graphical environments</ul><h3 id="installing-1"><span class="mr-2">Installing</span><a href="#installing-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>On Debian Linux, it is normally an easy install with the package manager</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>x11vnc
</pre></table></code></div></div><p>With centos 9 you need to pull down the binary</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>wget http://dl.fedoraproject.org/pub/epel/7/x86_64/x/x11vnc-0.9.13-11.el7.x86_64.rpm
yum <span class="nb">install </span>Xvfb
yum <span class="nb">install </span>libvncserver
yum <span class="nb">install </span>tk
rpm <span class="nt">-i</span> <span class="nt">--allfiles</span> <span class="nt">-v</span> x11vnc-0.9.13-11.el7.x86_64.rpm
</pre></table></code></div></div><h3 id="running-a-vnc-server-1"><span class="mr-2">Running a VNC Server</span><a href="#running-a-vnc-server-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To set a password file for x11vnc, use the <code class="language-shell highlighter-rouge"><span class="nt">-storepasswd</span></code> parameter. By default, it will save it in <code class="language-shell highlighter-rouge">~/.vnc/passwd</code> unless you specify it elsewhere</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-storepasswd</span>
</pre></table></code></div></div><p>Run a session specify a clear-text password credential of ‘truffle’</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-passwd</span> truffle
</pre></table></code></div></div><p>The <code class="language-shell highlighter-rouge"><span class="nt">-forever</span></code> flag will keep x11vnc listening for further connections rather than exiting.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-passwd</span> truffle <span class="nt">-forever</span>
</pre></table></code></div></div><p>We can specify the window geometry of connections along with a name</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-passwd</span> truffle <span class="nt">-forever</span> <span class="nt">-desktop</span> <span class="s2">"Desktop Name"</span>
</pre></table></code></div></div><p>Instead of specify a plain text password on the command line you can include your file. If you want to put your password in plain text in a file you can simply use <code class="language-shell highlighter-rouge"><span class="nt">-passwdfile</span></code>. However more commonly you will want to use the password you created with the <code class="language-shell highlighter-rouge"><span class="nt">-storepasswd</span></code> flag and for that you specify <code class="language-shell highlighter-rouge"><span class="nt">-rfbauth</span></code></p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-forever</span> <span class="nt">-desktop</span> <span class="s2">"Desktop Name"</span> <span class="nt">-passwdfile</span> /root/unencrypted-pass
x11vnc <span class="nt">-forever</span> <span class="nt">-desktop</span> <span class="s2">"Desktop Name"</span> <span class="nt">-rfbauth</span> /root/.vnc/passwd
</pre></table></code></div></div><p>A good idea is to also restrict access based on ip address if possible.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-forever</span> <span class="nt">-desktop</span> <span class="s2">"Desktop Name"</span> <span class="nt">-rfbauth</span> /root/.vnc/passwd <span class="nt">-allow</span> xx.xxx.xx.xxx
</pre></table></code></div></div><p>If you need to run x11vnc on a non-standard port you can specify it with the <code class="language-shell highlighter-rouge"><span class="nt">-rfbport</span></code></p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-forever</span> <span class="nt">-desktop</span> <span class="s2">"Desktop Name"</span> <span class="nt">-passwdfile</span> /root/.vnc/cleartext <span class="nt">-rfbport</span> 7777
</pre></table></code></div></div><p>A secondary password can be supplied for those only allowed to view the session</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>x11vnc <span class="nt">-forever</span> <span class="nt">-desktop</span> <span class="s2">"Desktop Name"</span> <span class="nt">-rfbauth</span> /root/.vnc/passwd <span class="nt">-viewpasswd</span> <span class="s2">"no-touching!"</span>
</pre></table></code></div></div><blockquote><p>-tightfilexfer Enable the TightVNC file transfer extension. -ultrafilexfer Enable UltraVNC filetransfer</p></blockquote><div class="table-wrapper"><table><thead><tr><th>Option<th>Description<tbody><tr><td>-shared<td>When display is shared more than one person can connect at once. (defaults to off)<tr><td>-geometry<td>WxH<tr><td>-forever<td>Keep listening for more connections rather than exiting.<tr><td>-once<td>Exit after the first successfully connected viewer disconnects<tr><td>-allow<td>Specify the IP addresses (separated by commas) of the allowed hosts<tr><td>-unixpw<td>List of comma-separated user names of system users that can login<tr><td>-ssl<td>Use the openssl library to provide a built-in encrypted SSL/TLS tunnel between server and viewers<tr><td>-passwd<td>Add a plain password to the connection<tr><td>-desktop<td>Set Desktop name for clients<tr><td>-chatwindow<td>Place a local UltraVNC chat window on the X11 display</table></div><h2 id="viewing-vnc"><span class="mr-2">Viewing VNC</span><a href="#viewing-vnc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>On client install the VNC viewer</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>xtightvncviewer
</pre></table></code></div></div><p>The basic syntax for viewing the server.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncviewer 54.244.102.175
</pre></table></code></div></div><p>If the server is running on a different display (n = display number)</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncviewer 54.244.102.175:n
</pre></table></code></div></div><p>If we get tired of typing out a password on the terminal, we can reference it via a file</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vncviewer 45.76.134.217 <span class="nt">-passwd</span> &lt;path to my password file&gt;
</pre></table></code></div></div><p>An alternative to the Tight VNC Viewer is SSVNC, an enhanced version of Tight VNC with support for more encodings, colour modes, and extensions.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>ssvnc
ssvncviewer 46.101.74.11:1
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='//categories/article/'>article</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="//tags/vnc/" class="post-tag no-text-decoration" >vnc</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Exploring+VNC+Servers+And+Clients+-+EvilSaint&url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fexploring-vnc-servers-and-clients%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Exploring+VNC+Servers+And+Clients+-+EvilSaint&u=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fexploring-vnc-servers-and-clients%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fexploring-vnc-servers-and-clients%2F&text=Exploring+VNC+Servers+And+Clients+-+EvilSaint" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fexploring-vnc-servers-and-clients%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/windows-registry/">Windows Registry</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ssl/">ssl</a> <a class="post-tag" href="/tags/tls/">tls</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/enumeration/">enumeration</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/git-ssh-keys/"><div class="card-body"> <em class="small" data-ts="1618441200" data-df="ll" > Apr 15, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Git with SSH Keys</h3><div class="text-muted small"><p> When working with Git via command line, the easiest way to authenticate is with x.509 keys. This article will show you how to set them up. Introduction With GUI-based Git clients, such as GitHub ...</p></div></div></a></div><div class="card"> <a href="/posts/beginner-guide-apt-commands/"><div class="card-body"> <em class="small" data-ts="1619218800" data-df="ll" > Apr 24, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Beginner Guide To APT Commands</h3><div class="text-muted small"><p> Little history of how apt works? What are sources? Updating sources? Searching for packages Show information about the package Finding packages installed on your machine Finding packages that...</p></div></div></a></div><div class="card"> <a href="/posts/many-hats-pentester/"><div class="card-body"> <em class="small" data-ts="1619218800" data-df="ll" > Apr 24, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The Many Hats Of A Pentester</h3><div class="text-muted small"><p> Hat One - Technical Hat Two - Be able to write well Hat Three - Present to a diverse audience</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="//posts/wfuzz/" class="btn btn-outline-primary" prompt="Older"><p>Wfuzz</p></a> <a href="//posts/connecting-linux-active-directory/" class="btn btn-outline-primary" prompt="Newer"><p>Connecting Linux To Active Directory</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "TheEvilSaint/theevilsaint.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkyNTQ3ODQ3Nzk", "data-category": "Comments", "data-category-id": "DIC_kwDODy-1C84CSN7z", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ssl/">ssl</a> <a class="post-tag" href="/tags/tls/">tls</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/enumeration/">enumeration</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://www.twitter.com/_evilsaint_/">evilsaint</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"></p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available!</p><button type="button" class="btn btn-primary" aria-label="Update"> Update 🚀 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KK5XXRT4LD"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KK5XXRT4LD'); }); </script>
