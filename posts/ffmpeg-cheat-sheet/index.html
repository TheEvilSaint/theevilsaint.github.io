<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="FFmpeg Cheat Sheet" /><meta property="og:locale" content="en" /><meta name="description" content="A handy cheat sheet of commands for the text line utility ffmpeg." /><meta property="og:description" content="A handy cheat sheet of commands for the text line utility ffmpeg." /><link rel="canonical" href="http://theevilsaint.github.io/posts/ffmpeg-cheat-sheet/" /><meta property="og:url" content="http://theevilsaint.github.io/posts/ffmpeg-cheat-sheet/" /><meta property="og:site_name" content="EvilSaint" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-02T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="FFmpeg Cheat Sheet" /><meta name="twitter:site" content="@_evilsaint_" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-07-02T00:00:00+01:00","datePublished":"2021-07-02T00:00:00+01:00","description":"A handy cheat sheet of commands for the text line utility ffmpeg.","headline":"FFmpeg Cheat Sheet","mainEntityOfPage":{"@type":"WebPage","@id":"http://theevilsaint.github.io/posts/ffmpeg-cheat-sheet/"},"url":"http://theevilsaint.github.io/posts/ffmpeg-cheat-sheet/"}</script><title>FFmpeg Cheat Sheet | EvilSaint</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="EvilSaint"><meta name="application-name" content="EvilSaint"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://evilsaint.com/static/images/evilsaint_shield_logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">EvilSaint</a></div><div class="site-subtitle font-italic">I void warranties</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://twitter.com/_evilsaint_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://evilsaint.com/subscribe" aria-label="youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="https://github.com/TheEvilSaint" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.instagram.com/therealevilsaint/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href="https://www.facebook.com/TheEvilSaint/" aria-label="facebook" target="_blank" rel="noopener"> <i class="fab fa-facebook"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>FFmpeg Cheat Sheet</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>FFmpeg Cheat Sheet</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1625180400" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 2, 2021 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.twitter.com/_evilsaint_/">evilsaint</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1351 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><h1 id="installing-ffmpeg">Installing FFMpeg</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>ffmpeg
</pre></table></code></div></div><h1 id="converting-audio-into-different-formats--sample-rates">Converting Audio into Different Formats / Sample Rates</h1><p>Minimal example: transcode from MP3 to WMA:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mp3 output.wma
</pre></table></code></div></div><p>You can get the list of supported formats with:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-formats</span>
</pre></table></code></div></div><p>You can get the list of installed codecs with:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-codecs</span>
</pre></table></code></div></div><p>Convert WAV to MP3, mix down to mono (use one audio channel), set bit rate to 64 kbps and sample rate to 22050 Hz:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.wav <span class="nt">-ac</span> 1 <span class="nt">-ab</span> 64000 <span class="nt">-ar</span> 22050 output.mp3
</pre></table></code></div></div><p>Convert any MP3 file to WAV 16khz mono 16bit:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> 111.mp3 <span class="nt">-acodec</span> pcm_s16le <span class="nt">-ac</span> 1 <span class="nt">-ar</span> 16000 out.wav
</pre></table></code></div></div><p>Convert any MP3 file to WAV 20khz mono 16bit for ADDAC WAV Player:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> 111.mp3 <span class="nt">-acodec</span> pcm_s16le <span class="nt">-ac</span> 1 <span class="nt">-ar</span> 22050 out.wav
</pre></table></code></div></div><p><strong>cd into dir for the batch process:</strong></p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">for </span>i <span class="k">in</span> <span class="k">*</span>.mp3<span class="p">;</span> <span class="k">do </span>ffmpeg <span class="nt">-i</span> <span class="s2">"</span><span class="nv">$i</span><span class="s2">"</span> <span class="nt">-acodec</span> pcm_s16le <span class="nt">-ac</span> 1 <span class="nt">-ar</span> 22050 <span class="s2">"</span><span class="k">${</span><span class="nv">i</span><span class="p">%.mp3</span><span class="k">}</span><span class="s2">-encoded.wav"</span><span class="p">;</span> <span class="k">done</span>
</pre></table></code></div></div><p>Picking the 30 seconds fragment at an offset of 1 minute</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mp3 <span class="nt">-ss</span> 60 <span class="nt">-t</span> 30 output.wav
</pre></table></code></div></div><p>In HH:MM:SS format</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mp3 <span class="nt">-ss</span> 0:01:00 <span class="nt">-t</span> 0:00:30 output.wav
</pre></table></code></div></div><p>Split an audio stream at a specified segment rate (e.g. 3 seconds)</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> somefile.mp3 <span class="nt">-f</span> segment <span class="nt">-segment_time</span> 3 <span class="nt">-c</span> copy out%03d.mp3
</pre></table></code></div></div><h1 id="extract-audio">Extract Audio</h1><p><code class="language-shell highlighter-rouge"><span class="nt">-vn</span></code> signals no video. <code class="language-shell highlighter-rouge"><span class="nt">-acodec</span> copy</code> says to use the same audio stream that’s already in there.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input-video.avi <span class="nt">-vn</span> <span class="nt">-acodec</span> copy output-audio.aac 
</pre></table></code></div></div><p>The <code class="language-shell highlighter-rouge"><span class="nt">-i</span></code> option is the input file/path. The <code class="language-shell highlighter-rouge"><span class="nt">-f</span></code> specifies the format (in this case mp3 and the <code class="language-shell highlighter-rouge"><span class="nt">-ab</span> 192000</code> tells FFmpeg that we want the output to be encoded at 192Kbps, and as we learnt the last example <code class="language-shell highlighter-rouge"><span class="nt">-vn</span></code> means we do not want video.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> video.mp4 <span class="nt">-f</span> mp3 <span class="nt">-ab</span> 192000 <span class="nt">-vn</span> music.mp3
</pre></table></code></div></div><h1 id="replace-audio-on-a-video-without-re-encoding">Replace Audio on a Video without re-encoding.</h1><p><strong>Preferred method</strong></p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> INPUT.mp4 <span class="nt">-i</span> AUDIO.wav <span class="nt">-shortest</span> <span class="nt">-c</span>:v copy <span class="nt">-c</span>:a aac <span class="nt">-b</span>:a 256k OUTPUT.mp4
</pre></table></code></div></div><p>Strip audio stream away from the video.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> INPUT.mp4 <span class="nt">-codec</span> copy <span class="nt">-an</span> OUTPUT.mp4
</pre></table></code></div></div><p>Combine the two streams (new audio with originally existing video).</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> 36.MOV <span class="nt">-i</span> 36.wav <span class="nt">-map</span> 0:v <span class="nt">-map</span> 1:a <span class="nt">-c</span> copy <span class="nt">-y</span> 36-encoded.mov
</pre></table></code></div></div><p>Or add an offset to audio.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> 36.MOV <span class="nt">-itsoffset</span> <span class="nt">-0</span>.25 <span class="nt">-i</span> 36.wav <span class="nt">-map</span> 0:v <span class="nt">-map</span> 1:a <span class="nt">-c</span> copy <span class="nt">-y</span> 36-encoded.mov
</pre></table></code></div></div><blockquote><p>We can leave the audio format detection up to FFmpeg?</p></blockquote><p>To convert one file:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> ffmpeg <span class="nt">-i</span> videofile.mp4 <span class="nt">-vn</span> <span class="nt">-acodec</span> libvorbis audiofile.ogg 
</pre></table></code></div></div><p>To convert many files:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="k">for </span>vid <span class="k">in</span> <span class="k">*</span>.mp4<span class="p">;</span> <span class="k">do </span>ffmpeg <span class="nt">-i</span> <span class="s2">"</span><span class="nv">$vid</span><span class="s2">"</span> <span class="nt">-vn</span> <span class="nt">-acodec</span> libvorbis <span class="s2">"</span><span class="k">${</span><span class="nv">vid</span><span class="p">%.mp4</span><span class="k">}</span><span class="s2">.ogg"</span><span class="p">;</span> <span class="k">done</span> 
</pre></table></code></div></div><p>You can, of course, select any FFmpeg parameters for audio encoding that you like, set things like bitrate, etc.</p><p>Use <code class="language-shell highlighter-rouge"><span class="nt">-acodec</span> libmp3lame</code> and change the extension from <code class="language-shell highlighter-rouge">.ogg</code> to <code class="language-shell highlighter-rouge">.mp3</code> for mp3 encoding.</p><p>If you want to extract the audio, you can “copy” the audio track to a file using -acodec copy. Of course, the main difference is that transcoding is slow and CPU-intensive, while copying is speedy as you’re just moving bytes from one file to another. Here’s how to copy just the audio track (assuming it’s in mp3 format):</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> ffmpeg <span class="nt">-i</span> videofile.mp4 <span class="nt">-vn</span> <span class="nt">-acodec</span> copy audiofile.mp3 
</pre></table></code></div></div><p>Note that in this case, the audio file format has to be consistent with what the container has (i.e. if the audio is AAC format, you have to say audiofile.aac). You can use the <code class="language-shell highlighter-rouge">ffprobe</code> command to see which formats you have; this may provide some information:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="k">for </span>file <span class="k">in</span> <span class="k">*</span><span class="p">;</span> <span class="k">do </span>ffprobe <span class="nv">$file</span> 2&gt;&amp;1 |grep Audio<span class="p">;</span> <span class="k">done</span> 
</pre></table></code></div></div><p>A possible way to automatically parse the audio codec and name the audio file accordingly would be</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> <span class="k">for </span>file <span class="k">in</span> <span class="k">*</span>mp4 <span class="k">*</span>avi<span class="p">;</span> <span class="k">do </span>ffmpeg <span class="nt">-i</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> <span class="nt">-vn</span> <span class="nt">-acodec</span> copy <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span>.<span class="sb">```</span>ffprobe <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span> 2&gt;&amp;1 |sed <span class="nt">-rn</span> <span class="s1">'s/.*Audio: (...), .*/\1/p'</span><span class="sb">```</span><span class="p">;</span> <span class="k">done</span> 
</pre></table></code></div></div><p>Note that this command uses <code class="language-shell highlighter-rouge"><span class="nb">sed</span></code> to parse output from <code class="language-shell highlighter-rouge">ffprobe</code> for each file. It assumes a 3-letter audio codec such as mp3, ogg or aac for example and will break if given anything different.</p><h1 id="encoding-multiple-files">Encoding multiple files</h1><p>You can use a Bash “for loop” to encode all files in a directory:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">mkdir </span>newfiles
<span class="k">for </span>f <span class="k">in</span> <span class="k">*</span>.m4a<span class="p">;</span> <span class="k">do </span>ffmpeg <span class="nt">-i</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="nt">-codec</span>:v copy <span class="nt">-codec</span>:a libmp3lame <span class="nt">-q</span>:a 2 newfiles/<span class="s2">"</span><span class="k">${</span><span class="nv">f</span><span class="p">%.m4a</span><span class="k">}</span><span class="s2">.mp3"</span><span class="p">;</span> <span class="k">done</span>
</pre></table></code></div></div><p>m4a to mp3 conversion with FFmpeg and lame</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.m4a <span class="nt">-acodec</span> libmp3lame <span class="nt">-ab</span> 128k output.mp3
</pre></table></code></div></div><p>A batch file version of the same command would be:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">for </span>f <span class="k">in</span> <span class="k">*</span>.m4a<span class="p">;</span> <span class="k">do </span>ffmpeg <span class="nt">-i</span> <span class="s2">"</span><span class="nv">$f</span><span class="s2">"</span> <span class="nt">-acodec</span> libmp3lame <span class="nt">-ab</span> 256k <span class="s2">"</span><span class="k">${</span><span class="nv">f</span><span class="p">%.m4a</span><span class="k">}</span><span class="s2">.mp3"</span><span class="p">;</span> <span class="k">done</span>
</pre></table></code></div></div><h1 id="extract-single-image-from-a-video-at-specified-frame">Extract Single Image from a Video at Specified Frame</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>vf <span class="o">[</span>ss][filename][outputFileName]
</pre></table></code></div></div><p>where <code class="language-shell highlighter-rouge">vf</code> is a custom bash script as follows:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-ss</span> <span class="nv">$1</span> <span class="nt">-i</span> <span class="nv">$2</span> <span class="nt">-qmin</span> 1 <span class="nt">-q</span>:v 1 <span class="nt">-qscale</span>:v 2 <span class="nt">-frames</span>:v 1 <span class="nt">-huffman</span> optimal <span class="nv">$3</span>.jpg
</pre></table></code></div></div><p>ss offset = frame number divided by FPS of video = the decimal (in milliseconds) ffmpeg needs i.e. 130.5</p><h1 id="merge-multiple-videos">Merge Multiple Videos</h1><p>Concatenate multiple files.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nb">cat </span>myvideos.txt
file <span class="s1">'/path/to/file1'</span>
file <span class="s1">'/path/to/file2'</span>
file <span class="s1">'/path/to/file3'</span>

<span class="nv">$ </span>ffmpeg <span class="nt">-f</span> concat <span class="nt">-safe</span> 0 <span class="nt">-i</span> myvideos.txt <span class="nt">-c</span> copy output.mp4
</pre></table></code></div></div><h1 id="split-a-video-into-images">Split a Video into Images</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> video.flv image%d.jpg
</pre></table></code></div></div><h1 id="convert-images-into-a-video">Convert Images into a Video</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-f</span> image2 <span class="nt">-i</span> image%d.jpg imagestovideo.mp4
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> image-%03d.png <span class="nt">-c</span>:v libx264 <span class="nt">-pix_fmt</span> yuv420p test.mp4
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-r</span> 1/5 <span class="nt">-i</span> image-%03d.png <span class="nt">-c</span>:v libx264 <span class="nt">-vf</span> <span class="nv">fps</span><span class="o">=</span>25 <span class="nt">-pix_fmt</span> yuv420p test.mp4
</pre></table></code></div></div><h1 id="convert-single-image-into-a-video">Convert Single Image into a Video</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-loop</span> 1 <span class="nt">-i</span> image.png <span class="nt">-c</span>:v libx264 <span class="nt">-t</span> 60 <span class="nt">-pix_fmt</span> yuv420p <span class="nt">-vf</span> <span class="nv">scale</span><span class="o">=</span>1920:1080 out.mp4
</pre></table></code></div></div><h1 id="convert-non-sequentially-named-images-in-a-directory">Convert non-sequentially named Images in a directory</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-framerate</span> 30 <span class="nt">-pattern_type</span> glob <span class="nt">-i</span> <span class="s1">'*.jpeg'</span> <span class="nt">-c</span>:v libx264 <span class="nt">-pix_fmt</span> yuv420p gan-1.mov
</pre></table></code></div></div><h1 id="convert-image-sequence-of-many-different-sizes-and-conform-to-specific-frame-size">Convert image sequence of many different sizes and conform to specific frame size</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> image-%04d.jpg <span class="nt">-c</span>:v libx264 <span class="nt">-pix_fmt</span> yuv420p <span class="nt">-vf</span> <span class="s2">"scale=max(1280</span><span class="se">\,</span><span class="s2">a*720):max(1280</span><span class="se">\,</span><span class="s2">720/a),crop=1280:720"</span> test.mp4
</pre></table></code></div></div><h1 id="guarantee-aspect-ratio-from-the-image-sequence">Guarantee aspect ratio from the image sequence</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> image-%04d.jpg <span class="nt">-c</span>:v libx264 <span class="nt">-pix_fmt</span> yuv420p <span class="nt">-vf</span> <span class="s2">"scale=720:-2"</span> test.mp4
</pre></table></code></div></div><h1 id="evaluate-which-ratio-to-apply-for-scaling-then-scale-with-the-requisite-amount-of-padding">Evaluate which ratio to apply for scaling, then scale with the requisite amount of padding</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> image-%04d.jpg <span class="nt">-c</span>:v libx264 <span class="nt">-pix_fmt</span> yuv420p <span class="nt">-vf</span> <span class="s2">"scale=iw*min(1280/iw</span><span class="se">\,</span><span class="s2">720/ih):ih*min(1280/iw</span><span class="se">\,</span><span class="s2">720/ih), pad=1280:720:(1280-iw*min(1280/iw</span><span class="se">\,</span><span class="s2">720/ih))/2:(720-ih*min(1280/iw</span><span class="se">\,</span><span class="s2">720/ih))/2"</span> test.mp4
</pre></table></code></div></div><p>1920 version</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> image-%04d.jpg <span class="nt">-c</span>:v libx264 <span class="nt">-pix_fmt</span> yuv420p <span class="nt">-vf</span> <span class="s2">"scale=iw*min(1920/iw</span><span class="se">\,</span><span class="s2">1080/ih):ih*min(1920/iw</span><span class="se">\,</span><span class="s2">1080/ih), pad=1920:1080:(1920-iw*min(1920/iw</span><span class="se">\,</span><span class="s2">1080/ih))/2:(1080-ih*min(1920/iw</span><span class="se">\,</span><span class="s2">1080/ih))/2"</span> test.mp4
</pre></table></code></div></div><h1 id="convert-mov-jpeg-a-or-other-codec-to-h264-mp4">Convert .mov (JPEG-A or other codec) to H264 .mp4</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mov <span class="nt">-vcodec</span> libx264 <span class="nt">-pix_fmt</span> yuv420p output.mp4
</pre></table></code></div></div><h1 id="simple-flac-convert">Simple FLAC convert</h1><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> audio.xxx <span class="nt">-c</span>:a flac audio.flac
</pre></table></code></div></div><h1 id="mix-stereo-to-mono">Mix Stereo to Mono</h1><p>You can modify a video file directly without having to re-encode the video stream. However, the audio stream will need to encoded again.</p><blockquote><p>If you want to use the right channel, write <code class="language-shell highlighter-rouge">0.1.1</code> instead of <code class="language-shell highlighter-rouge">0.1.0.</code></p></blockquote><p>Left channel to mono:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> video.mp4 <span class="nt">-map_channel</span> 0.1.0 <span class="nt">-c</span>:v copy mono.mp4
</pre></table></code></div></div><p>Left channel to stereo:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> video.mp4 <span class="nt">-map_channel</span> 0.1.0 <span class="nt">-map_channel</span> 0.1.0 <span class="nt">-c</span>:v copy stereo.mp4
</pre></table></code></div></div><h1 id="trim-end-of-a-file-mp3">Trim End of a File (mp3)</h1><p>This command will slice up to 30 seconds without transcoding:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-t</span> 30 <span class="nt">-i</span> inputfile.mp3 <span class="nt">-acodec</span> copy outputfile.mp3
</pre></table></code></div></div><h1 id="to-encode-or-re-encode">To Encode or Re-encode?</h1><p>Do you need to cut video with re-encoding or without re-encoding mode? You can try the following command. Synopsis: ffmpeg -i [input_file] -ss [start_seconds] -t [duration_seconds] [output_file]</p><h3 id="use-ffmpeg-cut-mp4-video-without-re-encoding"><span class="mr-2">use FFmpeg cut mp4 video without re-encoding</span><a href="#use-ffmpeg-cut-mp4-video-without-re-encoding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Example:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> source.mp4 <span class="nt">-ss</span> 00:00:05 <span class="nt">-t</span> 00:00:10 <span class="nt">-c</span> copy cut_video.mp4
</pre></table></code></div></div><h3 id="use-ffmpeg-cut-mp4-video-with-re-encoding"><span class="mr-2">use FFmpeg cut mp4 video with re-encoding</span><a href="#use-ffmpeg-cut-mp4-video-with-re-encoding" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If you want to cut off section from the beginning, drop <code class="language-shell highlighter-rouge"><span class="nt">-t</span> 00:00:10</code> from the command</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> source.mp4 <span class="nt">-ss</span> 00:00:05 <span class="nt">-t</span> 00:00:10 <span class="nt">-async</span> 1 <span class="nt">-strict</span> <span class="nt">-2</span> cut_video.mp4
</pre></table></code></div></div><h3 id="reduce-filesize"><span class="mr-2">reduce filesize</span><a href="#reduce-filesize" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Example:</p><p>This command reported very little change in video quality and reductions of 90% of the filesize.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mov <span class="nt">-vcodec</span> libx264 <span class="nt">-crf</span> 24 output.mp4
</pre></table></code></div></div><p>Make a grayscale version and scale to 640x480.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> video.mov <span class="nt">-vf</span> <span class="nv">eq</span><span class="o">=</span><span class="nv">saturation</span><span class="o">=</span>0 <span class="nt">-s</span> 640x480 <span class="nt">-c</span>:v libx264 <span class="nt">-crf</span> 24 output.mp4
</pre></table></code></div></div><h2 id="convert-mp4-to-webm"><span class="mr-2">Convert MP4 to WEBM</span><a href="#convert-mp4-to-webm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mp4 <span class="nt">-c</span>:v libvpx-vp9 <span class="nt">-crf</span> 31 <span class="nt">-b</span>:v 1M output.webm
</pre></table></code></div></div><p><a href="http://trac.ffmpeg.org/wiki/Encode/VP9">more info</a></p><h2 id="convert-mkv-to-mp4"><span class="mr-2">Convert MKV to MP4</span><a href="#convert-mkv-to-mp4" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> file.mkv
</pre></table></code></div></div><p>Check for streams that you want (video/audio). be sure to convert/specify DTS 6 channel audio stream</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mkv <span class="nt">-strict</span> experimental <span class="nt">-map</span> 0:0 <span class="nt">-map</span> 0:1 <span class="nt">-c</span>:v copy <span class="nt">-c</span>:a:1 libmp3lame <span class="nt">-b</span>:a 192k <span class="nt">-ac</span> 6 output.mp4
</pre></table></code></div></div><h2 id="add-watermark-overlay-png-to-the-centre-of-a-video"><span class="mr-2">Add Watermark overlay (png) to the centre of a video</span><a href="#add-watermark-overlay-png-to-the-centre-of-a-video" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> source.mov <span class="nt">-i</span> watermark.png <span class="nt">-filter_complex</span> <span class="s2">"overlay=x=(main_w-overlay_w)/2:y=(main_h-overlay_h)/2"</span> output.mp4
</pre></table></code></div></div><h2 id="reverse-a-video"><span class="mr-2">Reverse a video</span><a href="#reverse-a-video" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> vid.mp4 <span class="nt">-vf</span> reverse reversed.mp4
</pre></table></code></div></div><h2 id="concat-a-video-with-a-reversed-copy-of-itself-for-ping-pong-looping-effect"><span class="mr-2">Concat a video with a reversed copy of itself for ping-pong looping effect</span><a href="#concat-a-video-with-a-reversed-copy-of-itself-for-ping-pong-looping-effect" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> input.mp4 <span class="nt">-filter_complex</span> <span class="s2">"[0:v]reverse,fifo[r];[0:v][r] concat=n=2:v=1 [v]"</span> <span class="nt">-map</span> <span class="s2">"[v]"</span> output.mp4
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='//categories/article/'>article</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="//tags/cheat-sheet/" class="post-tag no-text-decoration" >cheat-sheet</a> <a href="//tags/ffmpeg/" class="post-tag no-text-decoration" >ffmpeg</a> <a href="//tags/mp3/" class="post-tag no-text-decoration" >mp3</a> <a href="//tags/wav/" class="post-tag no-text-decoration" >wav</a> <a href="//tags/wma/" class="post-tag no-text-decoration" >wma</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=FFmpeg+Cheat+Sheet+-+EvilSaint&url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fffmpeg-cheat-sheet%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=FFmpeg+Cheat+Sheet+-+EvilSaint&u=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fffmpeg-cheat-sheet%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fffmpeg-cheat-sheet%2F&text=FFmpeg+Cheat+Sheet+-+EvilSaint" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fffmpeg-cheat-sheet%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/windows-registry/">Windows Registry</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ssl/">ssl</a> <a class="post-tag" href="/tags/tls/">tls</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/enumeration/">enumeration</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/git-ssh-keys/"><div class="card-body"> <em class="small" data-ts="1618441200" data-df="ll" > Apr 15, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Git with SSH Keys</h3><div class="text-muted small"><p> When working with Git via command line, the easiest way to authenticate is with x.509 keys. This article will show you how to set them up. Introduction With GUI-based Git clients, such as GitHub ...</p></div></div></a></div><div class="card"> <a href="/posts/beginner-guide-apt-commands/"><div class="card-body"> <em class="small" data-ts="1619218800" data-df="ll" > Apr 24, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Beginner Guide To APT Commands</h3><div class="text-muted small"><p> Little history of how apt works? What are sources? Updating sources? Searching for packages Show information about the package Finding packages installed on your machine Finding packages that...</p></div></div></a></div><div class="card"> <a href="/posts/many-hats-pentester/"><div class="card-body"> <em class="small" data-ts="1619218800" data-df="ll" > Apr 24, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>The Many Hats Of A Pentester</h3><div class="text-muted small"><p> Hat One - Technical Hat Two - Be able to write well Hat Three - Present to a diverse audience</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="//posts/scripting-lab-machines-code-snippets/" class="btn btn-outline-primary" prompt="Older"><p>Scripting Lab Machines: Code Snippets</p></a> <a href="//posts/firefox-browser-forensics/" class="btn btn-outline-primary" prompt="Newer"><p>Firefox Browser Forensics</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "TheEvilSaint/theevilsaint.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkyNTQ3ODQ3Nzk", "data-category": "Comments", "data-category-id": "DIC_kwDODy-1C84CSN7z", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ssl/">ssl</a> <a class="post-tag" href="/tags/tls/">tls</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/enumeration/">enumeration</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://www.twitter.com/_evilsaint_/">evilsaint</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"></p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available!</p><button type="button" class="btn btn-primary" aria-label="Update"> Update 🚀 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KK5XXRT4LD"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KK5XXRT4LD'); }); </script>
