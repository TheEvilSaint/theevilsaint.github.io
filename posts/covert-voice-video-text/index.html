<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Covert Voice In A Video To Text" /><meta property="og:locale" content="en" /><meta name="description" content="I void warranties" /><meta property="og:description" content="I void warranties" /><link rel="canonical" href="http://theevilsaint.github.io/posts/covert-voice-video-text/" /><meta property="og:url" content="http://theevilsaint.github.io/posts/covert-voice-video-text/" /><meta property="og:site_name" content="EvilSaint" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-24T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Covert Voice In A Video To Text" /><meta name="twitter:site" content="@_evilsaint_" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-04-24T00:00:00+01:00","datePublished":"2021-04-24T00:00:00+01:00","description":"I void warranties","headline":"Covert Voice In A Video To Text","mainEntityOfPage":{"@type":"WebPage","@id":"http://theevilsaint.github.io/posts/covert-voice-video-text/"},"url":"http://theevilsaint.github.io/posts/covert-voice-video-text/"}</script><title>Covert Voice In A Video To Text | EvilSaint</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="EvilSaint"><meta name="application-name" content="EvilSaint"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://evilsaint.com/static/images/evilsaint_shield_logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">EvilSaint</a></div><div class="site-subtitle font-italic">I void warranties</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://twitter.com/_evilsaint_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://evilsaint.com/subscribe" aria-label="youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="https://github.com/TheEvilSaint" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.instagram.com/therealevilsaint/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href="https://www.facebook.com/TheEvilSaint/" aria-label="facebook" target="_blank" rel="noopener"> <i class="fab fa-facebook"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Covert Voice In A Video To Text</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Covert Voice In A Video To Text</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1619218800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Apr 24, 2021 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.twitter.com/_evilsaint_/">evilsaint</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1010 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><p>Have you ever wanted to extract the text from a video file? There are a number of software packages and transcription services flooding the search engines and it can be hard to pick a piece of software or a service.</p><p>As a programmer my preferred choice to this solution was to script something myself using the Google Cloud Speech-to-Text service.</p><p>This tutorial will demonstrate how to transcribe short video files ( less than 1 minute) using synchronous speech recognition and long audio files (longer than 1 minute) to text using asynchronous speech recognition.</p><p>We will look at doing this with Python and Curl.</p><p>Two methods, RPC and REST. RPC takes in binary audio files however REST submits JSON and so we need to convert out file into base64 if we want to send it from out local machine.</p><h5 class="step">1. Downloading an API key for the Speech-to-Text service</h5><p>First we sign up for an Google Cloud Web Services and download an API key for the Speech-to-Text service</p><p>In order to do this there are a few prerequisites:</p><ul><li><a href="https://cloud.google.com/speech-to-text/docs/quickstart-client-libraries">Set Up a Speech-to-Text Project</a> in the Google Cloud Console.<li>You’ve set up your environment using <a href="https://cloud.google.com/speech-to-text/docs/quickstart-client-libraries">Application Default Credentials</a> in the Google Cloud Console.</ul><h5 class="step">2. Creating a Virtual Environment</h5><blockquote><p>For the purpose of this tutorial we are going to start using the python client libraries however if you don’t wish to install the python libraries then it is possible to use the built in Curl command which will also demonstrate later on in this article as an alternative.</p></blockquote><p>With our API key downloaded we need to write some code. Due to the fact that we will be installing python modules we should start off by creating a python virtual environment to keep the libraries contained from interfering with that of the system.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">cd</span> ~
<span class="nb">mkdir </span>converter
<span class="nb">cd </span>converter
apt-get <span class="nb">install </span>python3-venv
</pre></table></code></div></div><p>If you get an error creating the environment you may need to install the following package</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>python3-venv
</pre></table></code></div></div><p>With our virtual environment created we need to activate it.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">source </span>venv/bin/activate
</pre></table></code></div></div><h5 class="step">3. Installing the Google Cloud Speech module for Python</h5><p>With the environment activated. Install the following python client library.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>pip <span class="nb">install</span> <span class="nt">--upgrade</span> google-cloud-speech
</pre></table></code></div></div><h5 class="step">4. Set an Environmental Variable to point to the API key</h5><p>Next, place the downloaded API key in the projects directory. You do not need to keep the default name, you can call it anything you want. I have decided to rename mine to <code class="language-shell highlighter-rouge">config.json</code></p><p><img data-src="//static/cf20d2a3-e0cd-4d8b-87d9-6fc0c8a2c5f2.png" class="img-fluid" alt="" data-proofer-ignore></p><p>Next Step, set the environment variable for the config file.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">export </span><span class="nv">GOOGLE_APPLICATION_CREDENTIALS</span><span class="o">=</span><span class="s2">"/home/evilsaint/converter/config.json"</span>
</pre></table></code></div></div><h5 class="step">5. Extracting the Audio</h5><p>Next we extract the audio as the visual element is unneeded for the the conversion. Run the following command to covert your file.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>ffmpeg <span class="nt">-i</span> &lt;video-input-file.mp4&gt; &lt;audio-output-file.wav&gt;
</pre></table></code></div></div><blockquote><p>Before proceeding to the next step it is a good idea to play the audio file (at least in part) to check the audio conversion worked?</p></blockquote><p>Assuming you are happy with the playback you can now proceed to the next step.</p><h5 class="step">6. Downloading Google Cloud Speech Sample Application Code</h5><p>Download the following file.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>wget https://raw.githubusercontent.com/googleapis/python-speech/master/samples/snippets/transcribe_async.py
</pre></table></code></div></div><h5 class="step">7. Customise transcribe_async.py for the WAV</h5><p>Due to the fact we are using <code class="language-shell highlighter-rouge">WAV</code> files we either need to admit the following line or specify 44100.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">sample_rate_hertz</span><span class="o">=</span>16000
</pre></table></code></div></div><p>Edit the following lines for the Google Cloud Bucket and the local file functions.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano <span class="nt">-l</span> transcribe_async.py
</pre></table></code></div></div><p><img data-src="//static/f943465c-0866-48a2-be78-037f02b45b4c.png" class="img-fluid" alt="" data-proofer-ignore></p><p><img data-src="//static/3317f1c2-cd2e-4f04-8385-98117a818cca.png" class="img-fluid" alt="" data-proofer-ignore></p><p>Because the WAV file I have contains two channels I am going to modify the audio channel config and also the encoding.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>    config <span class="o">=</span> speech.RecognitionConfig<span class="o">(</span>
        <span class="nv">encoding</span><span class="o">=</span><span class="s1">'LINEAR16'</span>,
        <span class="nv">sample_rate_hertz</span><span class="o">=</span>44100,
        <span class="nv">language_code</span><span class="o">=</span><span class="s2">"en-US"</span>,
        <span class="nv">audio_channel_count</span><span class="o">=</span>2,
    <span class="o">)</span>
</pre></table></code></div></div><h5 class="step">8. Hosting the File In The Cloud (Optional)</h5><p>One of the easiest ways to host the audio files is to upload them go you Google Cloud Platform (GCP) bucket.</p><blockquote><p>You must have proper access permissions to read Google Cloud Storage files, such as one of the following:</p><ul><li>Publicly readable (such as our sample audio files)<li>Readable by your service account, if using service account authorization.<li>Readable by a user account, if using 3-legged OAuth for user account authorization.</ul></blockquote><p><img data-src="//static/0f752dd2-687c-4509-8cab-dbfbc1a1c6da.png" class="img-fluid" alt="" data-proofer-ignore></p><h5 class="step">9. Convert The File</h5><p>Now we can convert our file from the cloud</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python transcribe_async.py gs://evilsaint/audio-output.wav
</pre></table></code></div></div><p><img data-src="//static/e126cd77-7708-40ab-b407-e67de97ee5a1.png" class="img-fluid" alt="" data-proofer-ignore></p><p>Or we can convert the file locally.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>python transcribe_async.py audio-output.wav 
</pre></table></code></div></div><h1 id="using-curl">Using Curl</h1><h5 class="step">1. Converting the Audio to a Text File</h5><p>Next we need to covert our audio file to base64 before we can send it to the “Speech-to-Text” API from the local system. This is not needed if you are sending the file from the GPC bucket.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">base64 </span>audio-output.wav <span class="nt">-w</span> 0 <span class="o">&gt;</span> audio-data.txt
</pre></table></code></div></div><h5 class="step">2. Constructing the Curl command</h5><p>Make a request.json file</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">touch </span>request.json
</pre></table></code></div></div><p>Edit the file</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano request.json
</pre></table></code></div></div><p>Inside the file we can do</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="o">{</span>
  <span class="s2">"config"</span>: <span class="o">{</span>
        <span class="s2">"encoding"</span>:<span class="s2">"LINEAR16"</span>,
        <span class="s2">"sample_rate_hertz"</span>:<span class="s2">"44100"</span>,
        <span class="s2">"language_code"</span>:<span class="s2">"en-US"</span>,
        <span class="s2">"audio_channel_count"</span>:<span class="s2">"2"</span>,
  <span class="o">}</span>,
  <span class="s2">"audio"</span>: <span class="o">{</span>
      <span class="s2">"uri"</span>:<span class="s2">"gs://evilsaint/audio-output.wav"</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>And make a curl command like so</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>
</pre></table></code></div></div><p>446 mv request.json sync-request.json 447 cat sync-request.json 448 curl -s -H “Content-Type: application/json” -H “Authorization: Bearer “$(gcloud auth application-default print-access-token) https://speech.googleapis.com/v1/speech:recognize -d @sync-request.json 449 echo “deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main” | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list 450 sudo apt-get install apt-transport-https ca-certificates gnupg 451 curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key –keyring /usr/share/keyrings/cloud.google.gpg add - 452 sudo apt-get update &amp;&amp; sudo apt-get install google-cloud-sdk 453 sudo apt-get install google-cloud-sdk-app-engine-java 454 gcloud init 455 gcloud init –skip-diagnostics 456 history</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="nb">cat </span>sync-request.json 
<span class="o">{</span>
  <span class="s2">"config"</span>: <span class="o">{</span>
        <span class="s2">"encoding"</span>:<span class="s2">"LINEAR16"</span>,
        <span class="s2">"sample_rate_hertz"</span>:<span class="s2">"44100"</span>,
        <span class="s2">"language_code"</span>:<span class="s2">"en-US"</span>,
        <span class="s2">"audio_channel_count"</span>:<span class="s2">"2"</span>,
  <span class="o">}</span>,
  <span class="s2">"audio"</span>: <span class="o">{</span>
      <span class="s2">"uri"</span>:<span class="s2">"gs://evilsaint/audio-output.wav"</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>     <span class="nt">-H</span> <span class="s2">"Authorization: Bearer "</span><span class="si">$(</span>gcloud auth application-default print-access-token<span class="si">)</span>     https://speech.googleapis.com/v1/speech:recognize     <span class="nt">-d</span> @sync-request.json
</pre></table></code></div></div><p>{ “error”: { “code”: 400, “message”: “Sync input too long. For audio longer than 1 min use LongRunningRecognize with a ‘uri’ parameter.”, “status”: “INVALID_ARGUMENT” } }</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>     <span class="nt">-H</span> <span class="s2">"Authorization: Bearer "</span><span class="si">$(</span>gcloud auth application-default print-access-token<span class="si">)</span>     https://speech.googleapis.com/v1/speech:longrunningrecognize     <span class="nt">-d</span> @sync-request.json
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>     <span class="nt">-H</span> <span class="s2">"Authorization: Bearer "</span><span class="si">$(</span>gcloud auth application-default print-access-token<span class="si">)</span>     https://speech.googleapis.com/v1/speech:longrunningrecognize     <span class="nt">-d</span> @sync-request.json
<span class="o">{</span>
  <span class="s2">"name"</span>: <span class="s2">"1211050700785987050"</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Maybe</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>     <span class="nt">-H</span> <span class="s2">"Authorization: Bearer "</span><span class="si">$(</span>gcloud auth application-default print-access-token<span class="si">)</span> https://speech.googleapis.com/v1/operations/1211050700785987050 
</pre></table></code></div></div><p><img data-src="//static/9fc6cb8c-f6f5-4041-b83b-32b8562179d3.png" class="img-fluid" alt="" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='//categories/tutorial/'>tutorial</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="//tags/voice/" class="post-tag no-text-decoration" >voice</a> <a href="//tags/convert/" class="post-tag no-text-decoration" >convert</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Covert+Voice+In+A+Video+To+Text+-+EvilSaint&url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fcovert-voice-video-text%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Covert+Voice+In+A+Video+To+Text+-+EvilSaint&u=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fcovert-voice-video-text%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fcovert-voice-video-text%2F&text=Covert+Voice+In+A+Video+To+Text+-+EvilSaint" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Ftheevilsaint.github.io%2Fposts%2Fcovert-voice-video-text%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/windows-registry/">Windows Registry</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ssl/">ssl</a> <a class="post-tag" href="/tags/tls/">tls</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/enumeration/">enumeration</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a></div></div></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/rename-vmdk-disk-and-associated-files-vmware-virtual-disk-manager/"><div class="card-body"> <em class="small" data-ts="1618441200" data-df="ll" > Apr 15, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Rename a VMDK disk and associated files with VMware Virtual Disk Manager</h3><div class="text-muted small"><p> I have a template Kali Linux Virtual Machine that I keep around in case in case of an unfixable error on my current engagement machine. The filenames inside this folder are quite verbose and are in...</p></div></div></a></div><div class="card"> <a href="/posts/using-screen-for-linux/"><div class="card-body"> <em class="small" data-ts="1618786800" data-df="ll" > Apr 19, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Moving Around The Terminal Like A Boss: Using Screen For Linux</h3><div class="text-muted small"><p> Installing Setting Name screen -S &amp;lt;my scans&amp;gt;</p></div></div></a></div><div class="card"> <a href="/posts/getting-grips-git/"><div class="card-body"> <em class="small" data-ts="1620860400" data-df="ll" > May 13, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Getting To Grips With GIT</h3><div class="text-muted small"><p> Creating a Git development branch You can list all of your current branches like this: 1 git branch -a This shows all of the local and remote branches. Assuming you only have a single master bran...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="//posts/beginner-guide-apt-commands/" class="btn btn-outline-primary" prompt="Older"><p>Beginner Guide To APT Commands</p></a> <a href="//posts/many-hats-pentester/" class="btn btn-outline-primary" prompt="Newer"><p>The Many Hats Of A Pentester</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "TheEvilSaint/theevilsaint.github.io", "data-repo-id": "MDEwOlJlcG9zaXRvcnkyNTQ3ODQ3Nzk", "data-category": "Comments", "data-category-id": "DIC_kwDODy-1C84CSN7z", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/ssl/">ssl</a> <a class="post-tag" href="/tags/tls/">tls</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/enumeration/">enumeration</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/git/">git</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://www.twitter.com/_evilsaint_/">evilsaint</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"></p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available!</p><button type="button" class="btn btn-primary" aria-label="Update"> Update 🚀 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-KK5XXRT4LD"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-KK5XXRT4LD'); }); </script>
